{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u0421\\u0415\\u041C\\u0415\\u0421\\u0422\\u0420 6\\\\RECIPE\\\\client\\\\src\\\\pages\\\\AuthG.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { Container, Form, Card, Button, Row } from \"react-bootstrap\";\nimport { Context } from \"../index\";\nimport jwt_decode from \"jwt-decode\";\nimport { NavLink, useLocation, useHistory } from \"react-router-dom\";\nimport { LOGIN_ROUTE, MAIN_ROUTE, REGISTRATION_ROUTE } from \"../utils/consts\";\nimport { login, registration } from \"../http/userAPI\";\nimport { observer } from 'mobx-react-lite';\nimport \"../css.css\";\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst clientId = \"225202864346-k01k8j33vmutqn1nn0hforpo2alvv8va.apps.googleusercontent.com\";\nconst Auth = observer(_c = _s(() => {\n  _s();\n\n  const [loading, setLoading] = useState('Loading...');\n  const [users, setUsers] = useState(null);\n  const {\n    user\n  } = useContext(Context);\n  let data;\n\n  const handleLoginSuccess = response => {\n    console.log(\"Login Success \", response);\n    setUsers(response.profileObj);\n    console.log(user);\n    user.setUser(response.profileObj);\n    user.setIsAuth(true); //history.push(MAIN_ROUTE)\n\n    setLoading();\n  };\n\n  const handleLoginFailure = error => {\n    console.log(\"Login Failure \", error);\n    setLoading();\n  };\n\n  const handleLogoutSuccess = response => {\n    console.log(\"Logout Success \", response);\n    setUsers(null);\n  };\n\n  const handleLogoutFailure = error => {\n    console.log(\"Logout Failure \", error);\n  };\n\n  const handleRequest = () => {\n    setLoading(\"Loading...\");\n  };\n\n  const handleAutoLoadFinished = () => {\n    setLoading();\n  };\n\n  const history = useHistory();\n  const location = useLocation();\n  const isLogin = location.pathname === LOGIN_ROUTE;\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"tbody\",\n    style: {\n      height: window.innerHeight - 54\n    },\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: 833\n      },\n      className: isLogin ? \"log\" : \"reg\",\n      children: users ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"name\",\n          children: [\"Welcome \", users.name, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(GoogleLogout, {\n          clientId: clientId,\n          onLogoutSuccess: handleLogoutSuccess,\n          onFailure: handleLogoutFailure\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          children: JSON.stringify(users, null, 2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 34\n      }, this) : /*#__PURE__*/_jsxDEV(GoogleLogin, {\n        clientId: clientId,\n        buttonText: loading,\n        onSuccess: handleLoginSuccess,\n        onFailure: handleLoginFailure,\n        onRequest: handleRequest,\n        onAutoLoadFinished: handleAutoLoadFinished,\n        isSignedIn: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}, \"epxC+L+4ur5d544Eqrszx/WlTBY=\", false, function () {\n  return [useHistory, useLocation];\n}));\n_c2 = Auth;\nexport default Auth;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Auth$observer\");\n$RefreshReg$(_c2, \"Auth\");","map":{"version":3,"sources":["D:/СЕМЕСТР 6/RECIPE/client/src/pages/AuthG.js"],"names":["React","useContext","useState","Container","Form","Card","Button","Row","Context","jwt_decode","NavLink","useLocation","useHistory","LOGIN_ROUTE","MAIN_ROUTE","REGISTRATION_ROUTE","login","registration","observer","GoogleLogin","GoogleLogout","clientId","Auth","loading","setLoading","users","setUsers","user","data","handleLoginSuccess","response","console","log","profileObj","setUser","setIsAuth","handleLoginFailure","error","handleLogoutSuccess","handleLogoutFailure","handleRequest","handleAutoLoadFinished","history","location","isLogin","pathname","name","setName","password","setPassword","email","setEmail","height","window","innerHeight","width","JSON","stringify"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react';\r\nimport { Container, Form, Card, Button, Row } from \"react-bootstrap\";\r\nimport {Context} from \"../index\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport {NavLink, useLocation, useHistory} from \"react-router-dom\";\r\nimport { LOGIN_ROUTE, MAIN_ROUTE, REGISTRATION_ROUTE } from \"../utils/consts\";\r\nimport {login, registration} from \"../http/userAPI\";\r\nimport { observer } from 'mobx-react-lite';\r\nimport \"../css.css\";\r\nimport { GoogleLogin, GoogleLogout } from 'react-google-login';\r\nconst clientId = \"225202864346-k01k8j33vmutqn1nn0hforpo2alvv8va.apps.googleusercontent.com\"\r\n\r\nconst Auth = observer(() => {\r\n    \r\n    const [loading, setLoading] = useState('Loading...');\r\n    const [users, setUsers] = useState(null);\r\n    const {user} = useContext(Context)\r\n    let data\r\n    const handleLoginSuccess = (response) => {\r\n    console.log(\"Login Success \", response);\r\n    setUsers(response.profileObj);\r\n    console.log(user)\r\n    user.setUser(response.profileObj)\r\n    user.setIsAuth(true)\r\n    //history.push(MAIN_ROUTE)\r\n    setLoading();\r\n  }\r\n \r\n  const handleLoginFailure = error => {\r\n    console.log(\"Login Failure \", error);\r\n    setLoading();\r\n  }\r\n \r\n  const handleLogoutSuccess = (response) => {\r\n    console.log(\"Logout Success \", response);\r\n    setUsers(null);\r\n  }\r\n \r\n  const handleLogoutFailure = error => {\r\n    console.log(\"Logout Failure \", error);\r\n  }\r\n \r\n  const handleRequest = () => {\r\n    setLoading(\"Loading...\");\r\n  }\r\n \r\n  const handleAutoLoadFinished = () => {\r\n    setLoading();\r\n  }\r\n\r\n\r\n    const history = useHistory()\r\n    const location = useLocation()\r\n    \r\n\r\n    const isLogin = location.pathname === LOGIN_ROUTE\r\n    const [name, setName] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [email, setEmail] = useState('')\r\n\r\n        return (\r\n        <Container \r\n            className=\"tbody\"\r\n            style={{height: window.innerHeight-54}}> \r\n            \r\n            <Card style={{width:833}} className={isLogin ? \"log\": \"reg\"}>\r\n               \r\n                        {users ? <div>\r\n                        <div className=\"name\">Welcome {users.name}!</div>\r\n                            <GoogleLogout\r\n                            clientId={clientId}\r\n                            onLogoutSuccess={handleLogoutSuccess}\r\n                            onFailure={handleLogoutFailure}\r\n                            />\r\n                            <pre>{JSON.stringify(users, null, 2)}</pre>\r\n                        </div> :\r\n                        <GoogleLogin\r\n                            clientId={clientId}\r\n                            buttonText={loading}\r\n                            onSuccess={handleLoginSuccess}\r\n                            onFailure={handleLoginFailure}\r\n                            onRequest={handleRequest}\r\n                            onAutoLoadFinished={handleAutoLoadFinished}\r\n                            isSignedIn={true}\r\n                        />}\r\n                   \r\n            </Card>\r\n        </Container>\r\n    );\r\n    \r\n});\r\n\r\nexport default Auth;"]},"metadata":{},"sourceType":"module"}