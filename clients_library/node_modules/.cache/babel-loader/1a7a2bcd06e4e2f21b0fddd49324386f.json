{"ast":null,"code":"var _jsxFileName = \"D:\\\\\\u0421\\u0415\\u041C\\u0415\\u0421\\u0422\\u0420 6\\\\RECIPE\\\\client\\\\src\\\\pages\\\\AuthG.js\";\nimport React, { Component } from 'react';\nimport { registration1 } from '../http/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AuthG extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: null,\n      imgUrl: null\n    };\n\n    this.signIn = () => {\n      const auth2 = window.gapi.auth2.getAuthInstance();\n      auth2.signIn().then(googleUser => {\n        const profile = googleUser.getBasicProfile();\n        const data = registration1(profile.getName(), profile.getEmail(), googleUser.getAuthResponse().id_token);\n        this.setState({\n          name: profile.getName(),\n          imgUrl: profile.getImageUrl()\n        });\n      });\n    };\n\n    this.signOut = () => {\n      const auth2 = window.gapi.auth2.getAuthInstance();\n      auth2.signOut().then(() => {\n        this.setState({\n          name: null,\n          password: null\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    const _onInit = auth2 => {\n      console.log('init OK', auth2);\n    };\n\n    const _onError = err => {\n      console.log('error', err);\n    };\n\n    window.gapi.load('auth2', function () {\n      window.gapi.auth2.init({\n        client_id: '225202864346-k01k8j33vmutqn1nn0hforpo2alvv8va.apps.googleusercontent.com'\n      }).then(_onInit, _onError);\n    });\n  }\n\n  render() {\n    const {\n      name,\n      password\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: /*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"App-header\",\n        children: [!name && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.signIn,\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), !!name && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.signOut,\n          children: \"Log out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 22\n        }, this), name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default AuthG;","map":{"version":3,"sources":["D:/СЕМЕСТР 6/RECIPE/client/src/pages/AuthG.js"],"names":["React","Component","registration1","AuthG","state","name","imgUrl","signIn","auth2","window","gapi","getAuthInstance","then","googleUser","profile","getBasicProfile","data","getName","getEmail","getAuthResponse","id_token","setState","getImageUrl","signOut","password","componentDidMount","_onInit","console","log","_onError","err","load","init","client_id","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAT,QAA8B,iBAA9B;;;AAIA,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AAAA;AAAA;AAAA,SAC5BG,KAD4B,GACpB;AACNC,MAAAA,IAAI,EAAE,IADA;AAENC,MAAAA,MAAM,EAAE;AAFF,KADoB;;AAAA,SAoB5BC,MApB4B,GAoBnB,MAAM;AACb,YAAMC,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAYF,KAAZ,CAAkBG,eAAlB,EAAd;AACAH,MAAAA,KAAK,CAACD,MAAN,GAAeK,IAAf,CAAoBC,UAAU,IAAI;AAChC,cAAMC,OAAO,GAAGD,UAAU,CAACE,eAAX,EAAhB;AACA,cAAMC,IAAI,GAAGd,aAAa,CAACY,OAAO,CAACG,OAAR,EAAD,EAAoBH,OAAO,CAACI,QAAR,EAApB,EAAwCL,UAAU,CAACM,eAAX,GAA6BC,QAArE,CAA1B;AACA,aAAKC,QAAL,CAAc;AACZhB,UAAAA,IAAI,EAAES,OAAO,CAACG,OAAR,EADM;AAEZX,UAAAA,MAAM,EAAEQ,OAAO,CAACQ,WAAR;AAFI,SAAd;AAID,OAPD;AASD,KA/B2B;;AAAA,SAgC5BC,OAhC4B,GAgClB,MAAM;AACd,YAAMf,KAAK,GAAGC,MAAM,CAACC,IAAP,CAAYF,KAAZ,CAAkBG,eAAlB,EAAd;AACAH,MAAAA,KAAK,CAACe,OAAN,GAAgBX,IAAhB,CAAqB,MAAM;AACzB,aAAKS,QAAL,CAAc;AACZhB,UAAAA,IAAI,EAAE,IADM;AAEZmB,UAAAA,QAAQ,EAAE;AAFE,SAAd;AAID,OALD;AAMD,KAxC2B;AAAA;;AAK5BC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,OAAO,GAAGlB,KAAK,IAAI;AACvBmB,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBpB,KAAvB;AACD,KAFD;;AAGA,UAAMqB,QAAQ,GAAGC,GAAG,IAAI;AACtBH,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBE,GAArB;AACD,KAFD;;AAGArB,IAAAA,MAAM,CAACC,IAAP,CAAYqB,IAAZ,CAAiB,OAAjB,EAA0B,YAAW;AACnCtB,MAAAA,MAAM,CAACC,IAAP,CAAYF,KAAZ,CACGwB,IADH,CACQ;AACJC,QAAAA,SAAS,EAAE;AADP,OADR,EAIGrB,IAJH,CAIQc,OAJR,EAIiBG,QAJjB;AAKD,KAND;AAOD;;AAsBDK,EAAAA,MAAM,GAAG;AACP,UAAM;AAAE7B,MAAAA,IAAF;AAAQmB,MAAAA;AAAR,QAAqB,KAAKpB,KAAhC;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,6BACE;AAAQ,QAAA,SAAS,EAAC,YAAlB;AAAA,mBACG,CAACC,IAAD,iBAAS;AAAQ,UAAA,OAAO,EAAE,KAAKE,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADZ,EAEG,CAAC,CAACF,IAAF,iBAAU;AAAQ,UAAA,OAAO,EAAE,KAAKkB,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFb,EAGKlB,IAHL;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AAWC;;AAtDyB;;AAyD5B,eAAeF,KAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport { registration1 } from '../http/userAPI'\r\n\r\n\r\n\r\nclass AuthG extends Component {\r\n  state = {\r\n    name: null,\r\n    imgUrl: null,\r\n  }\r\n  componentDidMount() {\r\n    const _onInit = auth2 => {\r\n      console.log('init OK', auth2)\r\n    }\r\n    const _onError = err => {\r\n      console.log('error', err)\r\n    }\r\n    window.gapi.load('auth2', function() {\r\n      window.gapi.auth2\r\n        .init({\r\n          client_id: '225202864346-k01k8j33vmutqn1nn0hforpo2alvv8va.apps.googleusercontent.com',\r\n        })\r\n        .then(_onInit, _onError)\r\n    })\r\n  }\r\n  signIn = () => {\r\n    const auth2 = window.gapi.auth2.getAuthInstance()\r\n    auth2.signIn().then(googleUser => {\r\n      const profile = googleUser.getBasicProfile()\r\n      const data = registration1(profile.getName(), profile.getEmail(), googleUser.getAuthResponse().id_token);\r\n      this.setState({\r\n        name: profile.getName(),\r\n        imgUrl: profile.getImageUrl(),\r\n      })\r\n    })\r\n    \r\n  }\r\n  signOut = () => {\r\n    const auth2 = window.gapi.auth2.getAuthInstance()\r\n    auth2.signOut().then(() => {\r\n      this.setState({\r\n        name: null,\r\n        password: null,\r\n      })\r\n    })\r\n  }\r\n  render() {\r\n    const { name, password } = this.state\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          {!name && <button onClick={this.signIn}>Log in</button>}\r\n          {!!name && <button onClick={this.signOut}>Log out</button>}\r\n            {name}\r\n        </header>\r\n        \r\n      </div>\r\n      \r\n      )\r\n    }\r\n  }\r\n  \r\n  export default AuthG"]},"metadata":{},"sourceType":"module"}